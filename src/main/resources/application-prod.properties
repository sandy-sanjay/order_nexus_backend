server.port=8080

# Production DB configuration - provide via environment variables in your host
# Fallback to TiDB credentials if env vars are missing
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://gateway01.ap-southeast-1.prod.aws.tidbcloud.com:4000/order_nexus?sslMode=VERIFY_IDENTITY&useSSL=true&allowPublicKeyRetrieval=true}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:2STefALC4xVVfTQ.root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:n3P4fkDUMz0xU4rA}

spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
spring.jpa.show-sql=false


# Expose a few management endpoints for health & metrics (production: keep show-details=never)
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=never

# Fallback JWT Secret (CHANGE THIS IN PROD ENV VARS)
jwt.secret=${JWT_SECRET:5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437}
jwt.expiration=86400000

# âœ… CORS: Allow localhost, Vercel, and Render explicitly
app.cors.allowed-origins=http://localhost:3000,https://*.vercel.app,https://order-nexus-frontend-*.vercel.app,https://order-nexus-frontend-1qafi9t82-sanjays-projects-aafb27f8.vercel.app
